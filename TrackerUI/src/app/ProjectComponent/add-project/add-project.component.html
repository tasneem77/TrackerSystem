<div class="main-content">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-12">
        <div class="card">
          <div class="card-header card-header-danger">
            <h4 class="card-title">Create Project</h4>
          </div>
          <div class="card-body">
            <form id="Save" #Save="ngForm" (ngSubmit)="submitForm()">
              <!-- <div class="row">
                <div class="col-md-12">
                  <mat-form-field class="example-full-width">
                    <mat-label>Project Name</mat-label>
                    <input matInput name="projectname" [(ngModel)]="ProjectObj.Name" />
                  </mat-form-field>
                </div>
                <div class="col-md-12">
                  <label>Description</label>
                  <angular-editor [config]="editorConfig" [(ngModel)]="ProjectObj.Discription"
                    [ngModelOptions]="{standalone: true}"></angular-editor>
                </div>
                <div class="col-md-12">
                  <br /></div>
                <fieldset class="col-md-12">
                  <div class="row">
                    <div class="col-md-6">
                      <mat-form-field class="example-full-width">
                        <mat-label>Start Date</mat-label>
                        <input matInput type="date" [(ngModel)]="ProjectObj.StartDate" name="startDate" />
                      </mat-form-field>
                    </div>
                    <div class="col-md-6">
                      <mat-form-field class="example-full-width">
                        <mat-label>End Date</mat-label>
                        <input matInput type="date" [(ngModel)]="ProjectObj.EndDate" name="endDate" />
                      </mat-form-field>
                    </div>
                    <div class="col-md-12">
                      <br /></div>
                    <div class="col-md-6">
                      <mat-form-field class="example-full-width">
                        <mat-label>Start time</mat-label>
                        <input matInput type="time" [(ngModel)]="ProjectObj.StartTime" name="startTime" />
                      </mat-form-field>
                    </div>
                    <div class="col-md-6">
                      <mat-form-field class="example-full-width">
                        <mat-label>End time</mat-label>
                        <input matInput type="time" [(ngModel)]="ProjectObj.EndTime" name="endTime" />
                      </mat-form-field>
                    </div>
                  </div>
                </fieldset>
              </div> -->

              <!-- <div class="row">
                <div class="col-md-12">


                  <mat-form-field appearance="fill">
                    <mat-label>Teams</mat-label>
                    <select matNativeControl name="ddlTeam" #ddlTeam (change)="onChange($event)">
                      <option value=""></option>
                      <option *ngFor="let team of lstTeams" value="{{ team.id }}">
                        {{ team.name }}
                      </option>
                    </select>
                  </mat-form-field>



                </div>
                <div class="col-md-12">
                  <br /></div>

                <div class="col-md-12">
                  <mat-label>Employees</mat-label>
                  <div *ngFor="let emp of lstEmployees" class="cb-wrapper" [ngClass]="{'cb-vertival': !tmp }">
                    <mat-checkbox name="chkbxemployees" value="{{ emp.value }}" [(ngModel)]="emp.checked">
                      {{ emp.name }}</mat-checkbox>
                  </div>


                  <div class="col-md-12">

                    <mat-label>Positions</mat-label>
                    <select class="form-control" name="ddlPositions" #ddlPositions (change)="onPositionChange($event)">
                      <option value=""></option>
                      <option *ngFor="let itm of lstPositions" value="{{ itm.id }}">
                        {{ itm.name }}
                      </option>
                    </select>

                  </div>



                </div>
                <div class="col-md-12">
                  <br /></div>
                <div class="col-md-12">
                  <button type="button" class="btn btn-default" (click)="addRow()">
                    Add
                  </button>
                </div>
                <div class="col-md-12">
                  <table class="display" style="width: 100%;">
                    <thead>
                      <tr>
                        <th>Action</th>
                        <th>Emp Name</th>
                        <th>Team</th>
                        <th>Position</th>
                        <th style="display: none;">Employee ID</th>
                        <th style="display: none;">Team ID</th>
                        <th style="display: none;">Position ID</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let dynamic of dynamicArray; let i = index">
                        <td (click)="deleteRow(i)">
                          <mat-icon>delete</mat-icon>
                        </td>
                        <td>
                          {{ dynamicArray[i].employeename }}
                        </td>
                        <td>
                          {{ dynamicArray[i].teamName }}
                        </td>
                        <td>
                          {{ dynamicArray[i].positionName }}
                        </td>
                        <td style="display: none;">
                          {{ dynamicArray[i].employeeId }}
                        </td>
                        <td style="display: none;">
                          {{ dynamicArray[i].teamId }}
                        </td>

                        <td style="display: none;">
                          {{ dynamicArray[i].positionId }}
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div> -->

              <mat-tab-group dynamicHeight mat-align-tabs="start">
                <mat-tab label="Project" color="#fff" backgroundColor="#000">
                  <div class="row">
                    <div class="col-md-12">
                      <mat-form-field>
                        <mat-label>Organizations</mat-label>
                        <mat-select [(ngModel)]="ProjectObj.OrganizationId" name="organizationId">
                          <mat-option *ngFor="let org of lstOrganizations" [value]="org.id">
                            {{org.name}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                    <div class="col-md-12">
                      <mat-form-field>
                        <mat-label>Clients</mat-label>
                        <mat-select [(ngModel)]="ProjectObj.clientId" name="clientId">
                          <mat-option *ngFor="let clnt of lstClients" [value]="clnt.id">
                            {{clnt.name}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                    <div class="col-md-12">
                      <mat-form-field class="example-full-width">
                        <mat-label>Project Name</mat-label>
                        <input matInput name="projectname" [(ngModel)]="ProjectObj.Name" />
                      </mat-form-field>
                    </div>
                    <div class="col-md-12">
                      <label>Description</label>
                      <angular-editor [config]="editorConfig" [(ngModel)]="ProjectObj.Discription"
                        [ngModelOptions]="{ standalone: true }"></angular-editor>
                    </div>
                    <div class="col-md-12">
                      <br />
                    </div>
                    <fieldset class="col-md-12">
                      <div class="row">
                        <div class="col-md-6">
                          <mat-form-field class="example-full-width">
                            <mat-label>Start Date</mat-label>
                            <input matInput type="date" [(ngModel)]="ProjectObj.StartDate" name="startDate" />
                          </mat-form-field>
                        </div>
                        <div class="col-md-6">
                          <mat-form-field class="example-full-width">
                            <mat-label>End Date</mat-label>
                            <input matInput type="date" [(ngModel)]="ProjectObj.EndDate" name="endDate" />
                          </mat-form-field>
                        </div>
                        <div class="col-md-12">
                          <br />
                        </div>
                        <!-- <div class="col-md-6">
                          <mat-form-field class="example-full-width">
                            <mat-label>Start time</mat-label>
                            <input matInput type="time" [(ngModel)]="ProjectObj.StartTime" name="startTime" />
                          </mat-form-field>
                        </div>
                        <div class="col-md-6">
                          <mat-form-field class="example-full-width">
                            <mat-label>End time</mat-label>
                            <input matInput type="time" [(ngModel)]="ProjectObj.EndTime" name="endTime" />
                          </mat-form-field>
                        </div> -->
                      </div>
                    </fieldset>
                  </div>
                  <button type="button" (click)="SecondStep()" class="btn pull-right">
                    Next
                  </button>
                </mat-tab>
     


                <mat-tab label="StakeHolders" [disabled]="disableTab">
                  <div class="row">
                    <div class="col-md-12">
                      <mat-form-field class="example-full-width">
                        <mat-label>StakeHolder Name</mat-label>
                        <input matInput name="shName" [(ngModel)]="ProjectObj.StakeHolderName" />
                      </mat-form-field>
                    </div>

                    <div class="col-md-12">
                      <button type="button" class="btn btn-default" (click)="addSHRow()">
                        Add
                      </button>
                    </div>
                    <div class="col-md-12">
                      <table class="display" style="width: 100%">
                        <thead>
                          <tr>
                            <th>Action</th>
                            <th>StakeHolder Name</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="
                              let dynamic of dynamicSHArray;
                              let i = index
                            ">
                            <td (click)="deleteSHRow(i)">
                              <mat-icon>delete</mat-icon>
                            </td>
                            <td>
                              {{ dynamicSHArray[i].Name }}
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>

                    <button type="button" (click)="Finish()" class="btn pull-right">
                      Finished
                    </button>

                    <button type="button" (click)="ThirdStep()" [disabled]="disableTab2" class="btn pull-right">
                      Next 3
                    </button>
                  </div>
                </mat-tab>

                <mat-tab label="Teams" [disabled]="disableTab2">
                  <div class="row" style="margin-top: 10px;">
                    <div class="col-md-6">
                      <mat-form-field appearance="fill">
                        <mat-label>Teams</mat-label>
                        <select matNativeControl name="ddlTeam" #ddlTeam (change)="onChange($event)">
                          <option value="">-- Select One --</option>
                          <option *ngFor="let team of lstTeams" value="{{ team.id }}">
                            {{ team.name }}
                          </option>
                        </select>
                      </mat-form-field>
                    </div>
                    <div class="col-md-6">
                      <mat-form-field appearance="fill">
                        <mat-label>Positions</mat-label>
                        <mat-select (selectionChange)="onPositionChange($event)">
                          <mat-option *ngFor="let itm of lstPositions" [value]="itm.id">
                            {{itm.name}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                    <div class="col-md-12">
                      <br />
                    </div>

                    <div class="col-md-12">
                      <mat-label>Employees</mat-label>
                      <div *ngFor="let emp of lstEmployees" class="cb-wrapper" [ngClass]="{ 'cb-vertival': !tmp }">
                        <mat-checkbox name="chkbxemployees" value="{{ emp.value }}" [(ngModel)]="emp.checked">
                          {{ emp.name }}</mat-checkbox>
                      </div>
                    </div>
                    <div class="col-md-12">
                      <br />
                    </div>
                    <div class="col-md-12">
                      <button type="button" class="btn btn-default" (click)="addRow()">
                        Add
                      </button>
                    </div>
                    <div class="col-md-12">
                      <table class="display" style="width: 100%">
                        <thead>
                          <tr>
                            <th>Action</th>
                            <th>Emp Name</th>
                            <th>Team</th>
                            <th>Position</th>
                            <th style="display: none">Employee ID</th>
                            <th style="display: none">Team ID</th>
                            <th style="display: none">Position ID</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let dynamic of dynamicArray; let i = index">
                            <td (click)="deleteRow(i)">
                              <mat-icon>delete</mat-icon>
                              <!-- <i class="fa fa-trash fa-2x"></i> -->
                            </td>
                            <td>
                              {{ dynamicArray[i].employeename }}
                            </td>
                            <td>
                              {{ dynamicArray[i].teamName }}
                            </td>
                            <td>
                              {{ dynamicArray[i].positionName }}
                            </td>
                            <td style="display: none">
                              {{ dynamicArray[i].employeeId }}
                            </td>
                            <td style="display: none">
                              {{ dynamicArray[i].teamId }}
                            </td>

                            <td style="display: none">
                              {{ dynamicArray[i].ptePositionId }}
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </mat-tab>


                <mat-tab label="MileStones">


                  <div class="row">
                    <div class="col-md-12">
                      <mat-form-field class="example-full-width">
                        <mat-label>Title</mat-label>
                        <input matInput  [(ngModel)]="ProjectObj.Title" name="miletitle" />
                      </mat-form-field>
                    </div>
                    <div class="col-md-12">
                      <mat-form-field class="example-full-width">
                        <mat-label>Description</mat-label>
                        <textarea matInput [(ngModel)]="ProjectObj.Description" name="description"></textarea>
                      </mat-form-field>
                    </div>
                    <div class="col-md-6">
                      <mat-form-field class="example-full-width">
                        <mat-label>Start Date</mat-label>
                        <input matInput type="date"  [(ngModel)]="ProjectObj.MSStartDate" name="MSStartDate" />
                      </mat-form-field>
                    </div>
                    <div class="col-md-6">
                      <mat-form-field class="example-full-width">
                        <mat-label>End Date</mat-label>
                        <input matInput type="date" name="MSEndDate"  [(ngModel)]="ProjectObj.MSEndDate"/>
                      </mat-form-field>
                    </div>
                     <div class="col-md-6">
                      <label>Start Time</label>
                      <input class="form-control" [ngxTimepicker]="picker" 
                        name="MileStartTime" [(ngModel)]="ProjectObj.MileStartTime">
                      <ngx-material-timepicker #picker></ngx-material-timepicker>
                    </div>
                    <div class="col-md-6">
                      <label>End Time</label>
                      <input class="form-control" [ngxTimepicker]="picker2" 
                      [(ngModel)]="ProjectObj.MSEndTime"
                        name="MSEndTime">
                      <ngx-material-timepicker #picker2></ngx-material-timepicker>
                    </div>
                  </div>

                  <div class="col-md-12">
                    <button type="button" class="btn btn-default" (click)="addMileRow()">
                      Add
                    </button>
                  </div>
                  <div class="col-md-12">
                    <table class="display" style="width: 100%">
                      <thead>
                        <tr>
                          <th>Action</th>
                          <th>Title</th>
                          <th>Desc</th>
                          <th>Start date</th>
                           <th>Start time</th>
                          <th>End date</th>
                          <th>End time</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let dynamic of dynamicMileArray;let i = index">
                          <td (click)="deleteMileRow(i)">
                            <mat-icon>delete</mat-icon>
                          </td>
                          <td>
                            {{ dynamicMileArray[i].Title }}
                          </td>
                          <td>
                            {{ dynamicMileArray[i].Description }}
                          </td>
                          <td>
                            {{ dynamicMileArray[i].MSStartDate }}
                          </td>
                          <td>
                            {{ dynamicMileArray[i].MileStartTime }}
                          </td>
                          <td>
                            {{ dynamicMileArray[i].MSEndDate }}
                          </td>
                          <td>
                            {{ dynamicMileArray[i].MSEndTime }}
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </mat-tab>
              </mat-tab-group>

              <div class="col-md-12">
                <button type="submit" class="btn btn-danger pull-right">
                  Save
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>